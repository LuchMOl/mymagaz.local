И так теперь надо сделать возможность регулировать какие меню отображать и в каком порядке.
Нужна настройка где я смогу числом выставлять ранг категории. И дальше мы будем выводить
1. в топ меню слева направо 5 категорий, слева у кого больше число
2. В нижних меню где вертикально, выше у кого больше число. Давай 
3. Если второй уровень без третьего то ограничиваем список 7 штук
4. Если второй уровень с третьим, ограничиваем 4 штуки
5. Третий уровень 5 штук максимум. В третьем уровне сортанем по алфавиту. Сверху вниз. Тут ранг роли не играет.
Еще нужно добавить активность категории. Что бы я мог отключить категорию (и она исчезнет из меню) и включить, и она появится (если она по рангу пройдет конечно же). Но неактивные категории в выборках не участвуют точно.

Что может пригодится 
В sql: ORDER BY, LIMIT
В php: usort (https://stackoverflow.com/questions/4282413/sort-array-of-objects-by-object-fields)

Создаешь поля новые в таблице категорий "rank" и "activity" например.

Ну тебе надо просто что бы в каждой категории было значение ранга.
Дальше перед форычем надо будет сортануть массив обьектов по нужному полю, usort в помощь, спросишь по нему если не поймешь. Ну и перед сортировкой в массиве не должно быть точно неактивных категорий уже.


Так теперь движемся дальше. 
1. Убрать goto, сделать без него как-то
2. Сделать что бы все настройки категории (ранг, топменю, родитель, название, активность) можно было указать при создании категории и при редактировании категории. На одной странице, юзай одну форму
3. Делаем список всех категорий на одной странице для менеджеров.  ЧТо-то типа category/showAll/ только там выводим не только первый уровень, а все
Структура такая
Первый уровень
---Второй уровень
---Второй уровень
------Третий уровень
Первый уровень итд
То есть первые уровни с начала строки
Второй уровень три пробела например перед названием (что бы был отступ)
Третий шесть пробелов итд

Как выглядит запись категории:
Трусы (2) - ранг: 12 - активна - топменю
Имя (ид категории) - ранг: значение_ранга - актива/неактивна - топменю (пусто если не топменю)

Давай сделаем в этот раз через запросы. На бекенде мало пользователей потому запросы не так ценны, ну и нам разнообразие.
То есть сначала тянем только верхний уровень, потом по каждой категории запрашиваем из бд ее детей, итд.
Сортируем всегда строго по рангу (сверху с высшым рангом), если ранг одинаковый - то по алфавиту.
Сортировки реализовать только через запросы в бд. В пхп ничего не сортируем.

Это решит проблему что бы менеджер сразу видел у каких категорий какой ранг перед тем как будет добавлять новую категорию и он не будет тыкать наугад